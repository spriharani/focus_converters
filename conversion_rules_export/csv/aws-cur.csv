FOCUS Dimension,Transform Step,Source Column,Source Column Type,Transform Type,Filters/Process/Etc.
ChargeType,1,lineItem/LineItemType,Not Defined,SQL_CONDITION,"conditions:
- WHEN ""lineItem/LineItemType"" = 'Tax' THEN 'Tax'
- WHEN ""lineItem/LineItemType"" = 'Fee' THEN 'Purchase'
- WHEN ""lineItem/LineItemType"" = 'SavingsPlanUpfrontFee' THEN 'Purchase'
- WHEN ""lineItem/LineItemType"" = 'RIFee' THEN 'Purchase'
- WHEN ""lineItem/LineItemType"" = 'SavingsPlanRecurringFee' THEN 'Purchase'
- WHEN ""lineItem/LineItemType"" = 'Usage' THEN 'Usage'
- WHEN ""lineItem/LineItemType"" = 'SavingsPlanCoveredUsage' THEN 'Usage'
- WHEN ""lineItem/LineItemType"" = 'SavingsPlanNegation' THEN 'Usage'
- WHEN ""lineItem/LineItemType"" = 'DiscountedUsage' THEN 'Usage'
- WHEN ""lineItem/LineItemType"" = 'BundledDiscount' THEN 'Usage'
- WHEN ""lineItem/LineItemType"" = 'Discount' THEN 'Usage'
- WHEN ""lineItem/LineItemType"" = 'PrivateRateDiscount' THEN 'Usage'
- WHEN ""lineItem/LineItemType"" = 'EdpDiscount' THEN 'Usage'
- WHEN ""lineItem/LineItemType"" = 'Credit' THEN 'Adjustment'
- WHEN ""lineItem/LineItemType"" = 'Refund' THEN 'Adjustment'
default_value: ''''''
"
AvailabilityZone,1,lineItem/AvailabilityZone,Not Defined,RENAME_COLUMN,
BilledCost,1,NA,Not Defined,SQL_CONDITION,"conditions:
- WHEN ""lineItem/NetUnblendedCost""  is not null THEN ""lineItem/NetUnblendedCost""
default_value: '""lineItem/UnblendedCost""'
"
BillingAccountId,1,bill/PayerAccountId,Not Defined,RENAME_COLUMN,
BillingCurrency,1,lineItem/CurrencyCode,Not Defined,RENAME_COLUMN,
BillingPeriodEnd,1,bill/BillingPeriodEndDate,datetime,ASSIGN_UTC_TIMEZONE,
BillingPeriodStart,1,bill/BillingPeriodStartDate,datetime,ASSIGN_UTC_TIMEZONE,
ChargeDescription,1,lineItem/LineItemDescription,Not Defined,RENAME_COLUMN,
ChargeFrequency,1,bill/BillType,Not Defined,MAP_VALUES,"default_value: ''
value_list:
- key: Refund
  value: One-Time
- key: Purchase
  value: One-Time
- key: Anniversary
  value: Recurring
"
ChargePeriodEnd,1,lineItem/UsageEndDate,datetime,ASSIGN_UTC_TIMEZONE,
ChargePeriodStart,1,lineItem/UsageStartDate,datetime,ASSIGN_UTC_TIMEZONE,
ChargeSubcategory,1,NA,Not Defined,SQL_CONDITION,"conditions:
- WHEN ChargeType = 'Usage' AND ""savingsPlan/SavingsPlanARN"" is not null OR ""reservation/ReservationARN""
  is not null THEN 'Used Commitment'
- WHEN ChargeType = 'Usage' THEN 'On-Demand'
- WHEN ChargeType = 'Adjustment' AND ""lineItem/LineItemType"" = 'BundledDiscount' THEN
  'Credit'
- WHEN ChargeType = 'Adjustment' AND ""lineItem/LineItemType"" = 'Credit' THEN 'Credit'
- WHEN ChargeType = 'Adjustment' AND ""lineItem/LineItemType"" = 'Discount' THEN 'Credit'
- WHEN ChargeType = 'Adjustment' AND ""lineItem/LineItemType"" = 'DiscountedUsage' THEN
  'Credit'
- WHEN ChargeType = 'Adjustment' AND ""lineItem/LineItemType"" = 'Refund' THEN 'Refund'
- WHEN ChargeType = 'Adjustment' THEN 'General Adjustment'
default_value: 'NULL'
"
CommitmentDiscountCategory,1,NA,Not Defined,SQL_CONDITION,"conditions:
- WHEN ""savingsPlan/SavingsPlanARN"" is not null THEN 'Spend'
- WHEN ""reservation/ReservationARN"" is not null THEN 'Usage'
default_value: 'null'
"
CommitmentDiscountId,1,NA,Not Defined,SQL_CONDITION,"conditions:
- WHEN ""savingsPlan/SavingsPlanARN"" is not null THEN ""savingsPlan/SavingsPlanARN""
default_value: '""reservation/ReservationARN""'
"
CommitmentDiscountType,1,NA,Not Defined,SQL_CONDITION,"conditions:
- WHEN ""savingsPlan/SavingsPlanARN"" is not null THEN 'Savings Plan'
- WHEN ""reservation/ReservationARN"" is not null THEN 'Reserved Instances (RI)'
default_value: 'null'
"
EffectiveCost,1,NA,Not Defined,SQL_QUERY,"SELECT *, CASE
    WHEN (""lineItem/LineItemType"" = 'SavingsPlanCoveredUsage') THEN ""savingsPlan/SavingsPlanEffectiveCost""
    WHEN (""lineItem/LineItemType"" = 'SavingsPlanRecurringFee') THEN (""savingsPlan/TotalCommitmentToDate"" - ""savingsPlan/UsedCommitment"")
    WHEN (""lineItem/LineItemType"" = 'SavingsPlanNegation') THEN 0
    WHEN (""lineItem/LineItemType"" = 'SavingsPlanUpfrontFee') THEN 0
    WHEN (""lineItem/LineItemType"" = 'DiscountedUsage') THEN ""reservation/EffectiveCost""
    WHEN (""lineItem/LineItemType"" = 'RIFee') THEN (""reservation/UnusedAmortizedUpfrontFeeForBillingPeriod"" + ""reservation/UnusedRecurringFee"")
    WHEN ((""lineItem/LineItemType"" = 'Fee') AND (""reservation/ReservationARN"" <> '')) THEN 0
    ELSE ""lineItem/UnblendedCost""
END AS EffectiveCost FROM {{ TABLE_NAME }}
"
InvoiceIssuer,1,bill/InvoicingEntity,Not Defined,RENAME_COLUMN,
ListCost,1,NA,Not Defined,SQL_CONDITION,"conditions:
- WHEN ""pricing/publicOnDemandRate"" is not null THEN ""pricing/publicOnDemandRate""
  * ""lineItem/UsageAmount""
default_value: '""pricing/publicOnDemandCost""'
"
ListUnitPrice,1,pricing/publicOnDemandRate,float,RENAME_COLUMN,
PricingQuantity,1,lineItem/UsageAmount,Not Defined,SQL_CONDITION,"conditions:
- WHEN ""reservation/TotalReservedUnits"" is not null THEN ""reservation/TotalReservedUnits""
default_value: '""lineItem/UsageAmount""'
"
PricingUnit,1,pricing/unit,Not Defined,RENAME_COLUMN,
Provider,1,NA,Not Defined,ASSIGN_STATIC_VALUE,"static_value: AWS
"
Region,1,product/region,Not Defined,RENAME_COLUMN,
ResourceId,1,lineItem/ResourceId,string,RENAME_COLUMN,
ServiceCategory,1,lineItem/ProductCode,Not Defined,LOOKUP,"destination_value: aws_category
reference_dataset_path: conversion_configs/aws/mapping_files/aws_category_mapping.csv
source_value: product_code
"
ServiceName,1,lineItem/ProductCode,Not Defined,RENAME_COLUMN,
SkuId,1,product/sku,Not Defined,RENAME_COLUMN,
SkuPriceId,1,NA,Not Defined,SQL_CONDITION,"conditions:
- WHEN ""pricing/RateCode"" is not null THEN ""pricing/RateCode""
default_value: '""pricing/RateId""'
"
UsageQuantity,1,lineItem/UsageAmount,Not Defined,RENAME_COLUMN,
UsageUnit,1,pricing/unit,Not Defined,RENAME_COLUMN,
